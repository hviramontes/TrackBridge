<Window x:Class="TrackBridge.DownloadAreaWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="Download Tiles" Height="500" Width="800"
        WindowStartupLocation="CenterOwner"
        MinHeight="400" MinWidth="600">
    <Grid>
        <!-- Define two rows: Map (star) and Controls (auto) -->
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- ROW 0: The draw map fills the entire top section -->
        <wv2:WebView2 x:Name="DownloadMapView"
                      Grid.Row="0"
                      Margin="5"/>

        <!-- ROW 1: Sliders + Button + Progress UI in a horizontal panel -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="10">
            <!-- Min Zoom -->
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5">
                <TextBlock Text="Min Zoom:" Width="70" VerticalAlignment="Center"/>
                <Slider x:Name="MinZoomSlider"
                        Minimum="0" Maximum="18"
                        TickFrequency="1" IsSnapToTickEnabled="True"
                        Width="150"/>
                <TextBlock x:Name="MinZoomValue"
                           Width="30" Margin="5,0,0,0"
                           VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Max Zoom -->
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5">
                <TextBlock Text="Max Zoom:" Width="70" VerticalAlignment="Center"/>
                <Slider x:Name="MaxZoomSlider"
                        Minimum="0" Maximum="18"
                        TickFrequency="1" IsSnapToTickEnabled="True"
                        Width="150"/>
                <TextBlock x:Name="MaxZoomValue"
                           Width="30" Margin="5,0,0,0"
                           VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Download Tiles Button -->
            <Button x:Name="DownloadTilesButton"
                    Content="Download Tiles"
                    Width="140" Height="32"
                    Margin="20,0,0,0"
                    Click="DownloadTilesButton_Click"/>
            <!-- Cancel Tiles Button -->
            <Button x:Name="CancelDownloadButton"
        Content="Cancel"
        Width="80" Height="32"
        Margin="10,0,0,0"
        Click="CancelDownloadButton_Click"
        IsEnabled="False"/>


            <!-- Progress bar and status text -->
            <ProgressBar x:Name="DownloadProgressBar"
                         Width="200"
                         Height="20"
                         Minimum="0"
                         Maximum="100"
                         Margin="20,0,0,0"/>
            <TextBlock x:Name="DownloadStatusText"
                       Text="Ready"
                       VerticalAlignment="Center"
                       Margin="10,0,0,0"/>
        </StackPanel>
    </Grid>
</Window>
